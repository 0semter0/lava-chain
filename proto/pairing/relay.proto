syntax = "proto3";
package lavanet.lava.pairing;

option go_package = "github.com/lavanet/lava/x/pairing/types";

service Relayer {
    rpc Relay (RelayRequest) returns (RelayReply) {}
}

message RelayRequest {
    string chainID = 1;
    uint32 api_id = 2;
    string api_url = 3; // some relays have associated urls that are filled with params ('/block/{height}')
    uint64 session_id = 4;
    uint64 cu_sum = 5; // total compute unit used including this relay

    bytes data = 6;
    bytes sig = 7;
    string provider = 8;
    int64 block_height = 9;
    uint64 relay_num = 10;
    int64 request_block = 11;
}

message RelayReply {
    bytes data = 1;
    bytes sig = 2;
    bytes query_hash = 3;
    bytes data_hash = 4;
    uint32 nonce = 5;
    bytes sig_hashes = 6;
    int64 latest_block = 7;
    bytes finalized_blocks_hashes = 8;
}
